{% comment %}
  Kratom Teas â€” Size variants only, everything else as Line Item Properties
{% endcomment %}

{% assign product = all_products['custom-kratom-tea'] %}

{% if product == nil %}
<main id="MainContent" class="page-width" style="max-width:1100px;margin:0 auto;padding:16px;">
  <h1>Kratom Teas</h1>
  <p>Product "custom-kratom-tea" not found. Create it in Shopify, then reload.</p>
</main>
{% else %}

<script>
  // Variant mapping for size selection
  const variantIdBySize = {
    "Medium": {{ product.variants | where: "option1","Medium" | first | default: nil | map: "id" | first | default: "null" }},
    "Large":  {{ product.variants | where: "option1","Large"  | first | default: nil | map: "id" | first | default: "null" }},
    "Gallon": {{ product.variants | where: "option1","Gallon" | first | default: nil | map: "id" | first | default: "null" }}
  };
  
  const priceBySize = {
    "Medium": 900,  // $9.00 in cents
    "Large": 1500,  // $15.00 in cents  
    "Gallon": 10000 // $100.00 in cents
  };
  
  const pumpLimitBySize = {
    "Medium": 4,
    "Large": 6,
    "Gallon": 12
  };
</script>

<main id="MainContent" class="page-width">
  {% render 'wtf-flavor-data' %}
  {% render 'wtf-kratom-customizer', product: product, flavors: wtfKratomFlavors %}
</main>

{% endif %}
